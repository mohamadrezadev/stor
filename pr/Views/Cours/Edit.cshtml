@model model.cours;
@{
    ViewData["Title"] = "Edit";
    Layout = "~/Views/Shared/_Layoutadmin.cshtml";
}
@section pre{
    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/dropify/css/dropify.min.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/vendors.min.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/vendors/flag-icon/css/flag-icon.min.css">
    <!-- END: VENDOR CSS-->
    <link rel="stylesheet" type="text/css" href="~/app-assets/css-rtl/style-rtl.min.css">
    <!-- BEGIN: Page Level CSS-->
    <link rel="stylesheet" type="text/css" href="~/app-assets/css-rtl/themes/vertical-modern-menu-template/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/css-rtl/themes/vertical-modern-menu-template/style.min.css">
    <link rel="stylesheet" href="~/app-assets/vendors/select2/select2.min.css" type="text/css">
    <link rel="stylesheet" href="~/app-assets/vendors/select2/select2-materialize.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/css-rtl/custom/custom.css">
    <link rel="stylesheet" type="text/css" href="~/app-assets/css-rtl/pages/page-users.min.css">
}


<!-- Form with validation -->
<div class="col s12 m6 l6">
    <div id="validation" class="card card card-default scrollspy">
        <div class="card-content">

            <h4 class="card-title">اطلاعات دوره</h4>
            <div id="modal1" class="modal" style="display:none">
                <div class="modal-content">

                    <div class="col-12">
                        <div id="placeholder" class="card card card-default scrollspy">
                            <div class="card-content">
                                <h4 class="card-title">لیست اساتید </h4>
                                @foreach (BEE.teacher item in ViewBag.teacher)
                                {
                                    var ischeked = Model.idtechers.Any(s => s == item.id);
                                    <div>
                                        <label>

                                            @if (ischeked)
                                            {
                                                <input checked value="@item.id" name="techers" type="checkbox" id="chek1" />
                                            }
                                            else
                                            {
                                                <input value="@item.id" name="techers" type="checkbox" id="chek1" />
                                            }



                                            <span>@item.name @item.family</span>
                                        </label>
                                    </div>




                                }
                                <button id="btnsave" class="btn cyan waves-effect waves-light right" name="action">
                                    انتخاب
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="col s12 m12 l12">
                <div id="inline-form" class="card card card-default scrollspy">
                    <div class="card-content">
                        <h4 class="card-title">فرم درون خطی</h4>
                        <form asp-controller="Cours" asp-action="Editt" method="post" enctype="multipart/form-data">
                            <div class="row">
                                <div class="input-field col m6 s6 ">

                                    <input asp-for="titel" id="icon_prefix1" type="text" class="validate">
                                    <label class="contact-input" for="icon_prefix1">عنوان دوره</label>
                                </div>
                                <div class="input-field  col m6 s6 ">
                                    <input asp-for="time" id="icon_prefix1" type="number" class="validate">
                                    <label class="contact-input" for="icon_prefix1">زمان دوره</label>
                                </div>

                            </div>
                            <div class="row">
                                <div class="input-field col m6 s6 ">

                                    <input asp-for="price" id="icon_prefix1" type="number" class="validate">
                                    <label class="contact-input" for="icon_prefix1">قیمت</label>
                                </div>
                                <div class="input-field col m6 s6 ">
                                   
                                    <a id="btn1" href="#modal1" class="btn btn-block btn-info modal-trigger"><span class="glyphicon glyphicon-user"></span> اساتید </a>
                                </div>

                            </div>
                            <div class="row">
                                <div class="input-field col m6 s6 ">

                                    <input asp-for="details" id="icon_prefix1" type="text" class="validate">
                                    <label class="contact-input" for="icon_prefix1">جزییات</label>
                                </div>
                               

                            </div>
                            <input asp-for="idtechers" hidden id="techer" />
                            <input asp-for="id" hidden />
                            <div class="row">
                                <div class="col-12 ">
                                    <p>پیش نمایش دوره</p>
                                    <center>
                                        <video class="col-12" width="600" height="200" controls="controls">
                                            <source src="~/videos/cours/@Model.videourl" type="audio/mp4" />
                                        </video>
                                    </center>
                                </div>
                            </div>
                            <div class="row section">
                                <div class="col s12 mb-6  10">
                                    <p>ویدیو معرفی</p>
                                </div>
                                <div class="col s12 m8 l9">
                                    <input asp-for="video" type="file" id="input-file-now" class="dropify" name="video" data-default-file="" />
                                </div>
                            </div>
                            <div class="row section">
                                <div class="col s12 mb-6  10">
                                    <p>پوستر دوره </p>
                                    <img src="~/iamges1/cours/@Model.imagurl" width="600" height="200">
                                </div>
                                <div class="col s12 m8 l9">
                                    <input asp-for="image" type="file" id="input-file-now" class="dropify" data-default-file="" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col m6 s6 ">
                                    <button class="btn cyan waves-effect waves-light right" type="submit" name="action">
                                        ویرایش اطلاعات
                                        <i class="material-icons right">send</i>
                                    </button>
                                </div>

                            </div>
                        </form>
                    </div>
                </div>
            </div>
            

        </div>
     </div>
</div>


@section Scripts
{

    <script src="~/app-assets/js/vendors.min.js"></script>
    <script src="~/app-assets/vendors/jquery-validation/jquery.validate.min.js"></script>
    <script src="~/app-assets/js/plugins.min.js"></script>
    <script src="~/app-assets/js/search.min.js"></script>
    <script src="~/app-assets/js-rtl/custom/custom-script-rtl.min.js"></script>
    <script src="~/app-assets/js/scripts/customizer.min.js"></script>
    <script src="~/app-assets/js/scripts/form-validation.js"></script>
    <script src="~/app-assets/vendors/dropify/js/dropify.min.js"></script>
    <script src="~/app-assets/js-rtl/scripts/form-file-uploads-rtl.min.js"></script>
    <script src="~/app-assets/js/scripts/page-users.min.js"></script>
    <script src="~/app-assets/vendors/select2/select2.full.min.js"></script>
    <script src="~/app-assets/vendors/jquery-validation/jquery.validate.min.js"></script>
    <script src="~/app-assets/vendors/formatter/jquery.formatter.min.js"></script>
    <script src="~/app-assets/js/scripts/form-masks.min.js"></script>
    <script src="~/app-assets/js/scripts/advance-ui-modals.min.js"></script>
<script>
    $(document).ready(function () {
        $("#btnsave").click(function () {
            $("#modal1").modal('close');
            var ids = [];
            $(":checkbox:checked").each(function (i) {
                var checkboxvalu = $(this).val();
                if (checkboxvalu != 'on') {
                    ids.push(checkboxvalu);
                }
            });
            
            //ids.each(function (j) {
            //    var teacher = $("#techer").val();
            //    teacher.push(ids[j]);

            //});
            $("#techer").val(ids);
            //for (var i in ids) {
            //    var teacher = $("#techer").val();
            //    teacher.push(ids[i])
            //}

            console.log($("#techer").val());
        });
    });
</script>
}

